{"ast":null,"code":"const API_BASE_URL = 'http://13.39.23.248:3000/api';\nconst token = localStorage.getItem('authToken');\nconst apiService = {\n  electionreg: async (UsedID, UniqueCode, token) => {\n    console.log(token);\n    try {\n      const repsone = await fetch(`${API_BASE_URL}/addusertoUsersElections`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        },\n        body: JSON.stringify({\n          UsedID,\n          UniqueCode,\n          token\n        }),\n        credentials: 'include' // Include credentials (cookies, etc.)\n      });\n      if (!repsone.ok) {\n        throw new Error('Failed to register user to election');\n      }\n      const data = await repsone.json();\n      console.log('Registry to election successful');\n\n      // Adjust based on your server's requirements)\n    } catch (error) {\n      console.error('Failed to register user to election:', error);\n      throw error;\n    }\n  }\n};\nexport default apiService;","map":{"version":3,"names":["API_BASE_URL","token","localStorage","getItem","apiService","electionreg","UsedID","UniqueCode","console","log","repsone","fetch","method","headers","body","JSON","stringify","credentials","ok","Error","data","json","error"],"sources":["/home/tofi-machine/Documents/VotingApp/Frontend/VotingApp-Frontend/src/apiService.js"],"sourcesContent":["const API_BASE_URL = 'http://13.39.23.248:3000/api';\nconst token = localStorage.getItem('authToken');\n\nconst apiService = {\n    electionreg: async (UsedID, UniqueCode, token) => {\n        console.log(token)\n        try {\n            const repsone = await fetch(`${API_BASE_URL}/addusertoUsersElections`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Access-Control-Allow-Origin': '*',\n                 },\n                 body: JSON.stringify({ UsedID, UniqueCode, token}),\n                 credentials: 'include', // Include credentials (cookies, etc.)\n            });\n\n            if (!repsone.ok) {\n                throw new Error('Failed to register user to election');\n            }\n            const data = await repsone.json();\n            console.log('Registry to election successful');\n            \n                  // Adjust based on your server's requirements)\n        }catch (error) {\n            console.error('Failed to register user to election:', error);\n        throw error ;\n        }\n    }\n  };\n  \n  export default apiService;"],"mappings":"AAAA,MAAMA,YAAY,GAAG,8BAA8B;AACnD,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC;AAE/C,MAAMC,UAAU,GAAG;EACfC,WAAW,EAAE,MAAAA,CAAOC,MAAM,EAAEC,UAAU,EAAEN,KAAK,KAAK;IAC9CO,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC;IAClB,IAAI;MACA,MAAMS,OAAO,GAAG,MAAMC,KAAK,CAAE,GAAEX,YAAa,0BAAyB,EAAE;QACnEY,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE,kBAAkB;UAClC,6BAA6B,EAAE;QAClC,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEV,MAAM;UAAEC,UAAU;UAAEN;QAAK,CAAC,CAAC;QAClDgB,WAAW,EAAE,SAAS,CAAE;MAC7B,CAAC,CAAC;MAEF,IAAI,CAACP,OAAO,CAACQ,EAAE,EAAE;QACb,MAAM,IAAIC,KAAK,CAAC,qCAAqC,CAAC;MAC1D;MACA,MAAMC,IAAI,GAAG,MAAMV,OAAO,CAACW,IAAI,CAAC,CAAC;MACjCb,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;;MAExC;IACV,CAAC,QAAOa,KAAK,EAAE;MACXd,OAAO,CAACc,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;MAChE,MAAMA,KAAK;IACX;EACJ;AACF,CAAC;AAED,eAAelB,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}